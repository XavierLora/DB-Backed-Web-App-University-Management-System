<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.10.1/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="flex flex-col w-full place-items-center px-2">
      <div class="navbar w-full bg-base-300 m-2 rounded-xl">
        <a href="{% url 'index' %}">
          <button class="btn btn-ghost text-xl">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75" />
            </svg>
          </button>
        </a>
        <button class="btn btn-ghost text-xl">Admin Dashboard</button>
      </div>
      <div class="card m-2 w-10/12 bg-base-300 shadow-xl">
        <div class="card-body">
          <h2 class="card-title">All Instructors</h2>
          <form method="get" action="{% url 'admin_dashboard' %}" class="flex gap-2 items-center">
            <select name="sort_by" class="select select-bordered w-full max-w-xs">
              <option disabled selected>Sort By:</option>
              <option value="name">Name</option>
              <option value="dept_name">Department</option>
              <option value="salary">Salary</option>
            </select>
            <input type="hidden" name="action" value="sort_instructors">
            <button type="submit" class="btn btn-neutral font-bold">Sort</button>
          </form>
          <div class="overflow-x-auto">
            <table class="table">
              <!-- head -->
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Deptarment</th>
                  <th>Salary</th>
                </tr>
              </thead>
              <tbody>
                <!-- row 1 -->
                {% for instructor in instructors %}
                <tr>
                    <td>{{ instructor.name }}</td>
                    <td>{{ instructor.dept_name }}</td>
                    <td>{{ instructor.salary }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="card m-2 w-10/12 bg-base-300 shadow-xl">
        <div class="card-body">
          <h2 class="card-title">Department Salary Summary</h2>
          <form method="get" action="{% url 'admin_dashboard' %}" class="flex gap-2 items-center">
            <select name="sort_by" class="select select-bordered w-full max-w-xs">
              <option disabled selected>Summary Type:</option>
              <option value="MIN">Min</option>
              <option value="MAX">Max</option>
              <option value="AVG">Avg</option>
            </select>
            <input type="hidden" name="action" value="sort_salary">
            <button type="submit" class="btn btn-neutral font-bold">Sort</button>
          </form>
          <div class="overflow-x-auto">
            <table class="table">
              <!-- head -->
              <thead>
                <tr>
                  <th>Deptarment</th>
                  <th>Salary</th>
                </tr>
              </thead>
              <tbody>
                <!-- row 1 -->
                {% for salary in salaries %}
                <tr>
                    <td>{{ salary.dept_name }}</td>
                    <td>{{ salary.salary }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="card m-2 w-10/12 bg-base-300 shadow-xl">
        <div class="card-body">
          <h2 class="card-title">Instructor Performance</h2>
          <form method="get" action="{% url 'admin_dashboard' %}" class="flex gap-2 items-center">
          <label class="input input-bordered flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 opacity-70"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z" /></svg>
            <input type="text" name="instructor" class="grow" value="Instructor" />
          </label>
          <select name="year" class="select select-bordered w-fit max-w-xs">
            <option disabled selected>Year:</option>
            <option>2019</option>
            <option>2020</option>
          </select>
          <select name="semester" class="select select-bordered w-fit max-w-xs">
            <option disabled selected>Semester:</option>
            <option>1</option>
            <option>2</option>
          </select>
          <input type="hidden" name="action" value="performance">
          <button type="submit" class="btn btn-neutral font-bold">Search</button>
        </form>
          <div class="overflow-x-auto">
            <table class="table text-center">
              <!-- head -->
              <thead>
                <tr>
                  <th>Instructor</th>
                  <th>Total Secections</th>
                  <th>Num. Students</th>
                  <th>Total Funding</th>
                  <th>Publishes Papers</th>
                </tr>
              </thead>
              <tbody>
                <!-- row 1 -->
                {% for instructor in instructor_performance %}
                <tr>
                  <td>{{ instructor.0 }}</td>
                  <td>{{ instructor.1 }}</td>
                  <td>{{ instructor.2 }}</td>
                  <td>{{ instructor.3 }}</td>
                  <td>{{ instructor.4 }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

